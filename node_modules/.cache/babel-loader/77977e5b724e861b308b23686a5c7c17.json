{"ast":null,"code":"var _jsxFileName = \"/home/lucas/Documents/Dev/resource-game-vertical/resource-game/src/components/MachineList.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Machine from './Machine';\nimport useObjState from '../hooks/useObjState';\n\nconst MachineList = ({\n  type,\n  stock\n}) => {\n  const [tier1, setTier1] = useObjState({\n    name: \"T1\",\n    speed: 1,\n    cost: {\n      stone: 10,\n      wood: 10\n    },\n    active: \"disabled\"\n  });\n  const [tier2] = useState({\n    name: \"T2\",\n    speed: 10,\n    cost: {\n      stone: 100,\n      wood: 100\n    }\n  });\n  const [tier3] = useState({\n    name: \"T3\",\n    speed: 100,\n    cost: {\n      stone: 1000,\n      wood: 1000\n    }\n  });\n  const stockObj = useContext(GlobalStockContext);\n  document.addEventListener('storage', () => {\n    console.log(\"triggered\");\n    const stoneStock = localStorage.getItem('stone-stock');\n    const woodStock = localStorage.getItem('wood-stock');\n\n    if (stoneStock < tier1.cost.stone || woodStock < tier1.cost.wood) {\n      //console.log(\"Stone: \"+stoneStock);\n      //console.log(tier1.cost.stone);\n      setTier1.active('disabled');\n    } else {\n      setTier1.active('');\n    }\n  });\n  useEffect(() => {\n    const stoneStock = localStorage.getItem('stone-stock');\n    const woodStock = localStorage.getItem('wood-stock');\n\n    if (stoneStock < tier1.cost.stone || woodStock < tier1.cost.wood) {\n      //console.log(\"Stone: \"+stoneStock);\n      //console.log(tier1.cost.stone);\n      setTier1.active('disabled');\n    } else {\n      setTier1.active('');\n    }\n  }, [stockObj]);\n  /*let stockInfo = (tier) => {\n    let stoneStock = localStorage.getItem('stone-stock');\n    let woodStock = localStorage.getItem('wood-stock');\n     if (stoneStock < tier.cost.stone || woodStock < tier.cost.wood) {\n      //console.log(\"Stone: \"+stoneStock);\n      //console.log(tier.cost.stone);\n      return \"disabled\";\n    }\n    else {\n      return \"\";\n    }\n  };*/\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"machine-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    bg: \"secondary\",\n    text: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, type, \" Machines\")), /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: tier1.active,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Machine, {\n    type: type,\n    tier: tier1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 54\n    }\n  })), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    className: (localStorage.getItem('stone-stock') < tier1.cost.stone || localStorage.getItem('wood-stock') < tier1.cost.wood) && 'disabled',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Machine, {\n    type: type,\n    tier: tier2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Machine, {\n    type: type,\n    tier: tier3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  })))));\n};\n\nexport default MachineList;","map":{"version":3,"sources":["/home/lucas/Documents/Dev/resource-game-vertical/resource-game/src/components/MachineList.js"],"names":["React","useState","useEffect","useContext","Card","Button","ListGroup","Machine","useObjState","MachineList","type","stock","tier1","setTier1","name","speed","cost","stone","wood","active","tier2","tier3","stockObj","GlobalStockContext","document","addEventListener","console","log","stoneStock","localStorage","getItem","woodStock"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;;AAGA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAD,KAAmB;AAErC,QAAK,CAACC,KAAD,EAAQC,QAAR,IAAoBL,WAAW,CAAC;AACnCM,IAAAA,IAAI,EAAE,IAD6B;AAEnCC,IAAAA,KAAK,EAAE,CAF4B;AAGnCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,IAAI,EAAE;AAFF,KAH6B;AAOnCC,IAAAA,MAAM,EAAE;AAP2B,GAAD,CAApC;AAUA,QAAK,CAACC,KAAD,IAAUnB,QAAQ,CAAC;AACtBa,IAAAA,IAAI,EAAE,IADgB;AAEtBC,IAAAA,KAAK,EAAE,EAFe;AAGtBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,GADH;AAEJC,MAAAA,IAAI,EAAE;AAFF;AAHgB,GAAD,CAAvB;AASA,QAAK,CAACG,KAAD,IAAUpB,QAAQ,CAAC;AACtBa,IAAAA,IAAI,EAAE,IADgB;AAEtBC,IAAAA,KAAK,EAAE,GAFe;AAGtBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,IADH;AAEJC,MAAAA,IAAI,EAAE;AAFF;AAHgB,GAAD,CAAvB;AASA,QAAMI,QAAQ,GAAGnB,UAAU,CAACoB,kBAAD,CAA3B;AAEAC,EAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,MAAM;AACzCC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,UAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAnB;AACA,UAAMC,SAAS,GAAGF,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAlB;;AAEA,QAAIF,UAAU,GAAGhB,KAAK,CAACI,IAAN,CAAWC,KAAxB,IAAiCc,SAAS,GAAGnB,KAAK,CAACI,IAAN,CAAWE,IAA5D,EAAkE;AAChE;AACA;AACAL,MAAAA,QAAQ,CAACM,MAAT,CAAgB,UAAhB;AACD,KAJD,MAKK;AACHN,MAAAA,QAAQ,CAACM,MAAT,CAAgB,EAAhB;AACD;AACF,GAbD;AAeAjB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM0B,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAnB;AACA,UAAMC,SAAS,GAAGF,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAlB;;AAEA,QAAIF,UAAU,GAAGhB,KAAK,CAACI,IAAN,CAAWC,KAAxB,IAAiCc,SAAS,GAAGnB,KAAK,CAACI,IAAN,CAAWE,IAA5D,EAAkE;AAChE;AACA;AACAL,MAAAA,QAAQ,CAACM,MAAT,CAAgB,UAAhB;AACD,KAJD,MAKK;AACHN,MAAAA,QAAQ,CAACM,MAAT,CAAgB,EAAhB;AACD;AACF,GAZQ,EAYN,CAACG,QAAD,CAZM,CAAT;AAeA;;;;;;;;;;;;;AAcE,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAqB,IAAA,IAAI,EAAC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,IADH,cADF,CADF,eAOE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD,CAAW,IAAX;AAAgB,IAAA,SAAS,EAAEE,KAAK,CAACO,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAyC,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAET,IAAf;AAAqB,IAAA,IAAI,EAAEE,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAzC,CADF,eAEE,oBAAC,SAAD,CAAW,IAAX;AAAgB,IAAA,SAAS,EACvB,CAACiB,YAAY,CAACC,OAAb,CAAqB,aAArB,IAAsClB,KAAK,CAACI,IAAN,CAAWC,KAAjD,IAA0DY,YAAY,CAACC,OAAb,CAAqB,YAArB,IAAqClB,KAAK,CAACI,IAAN,CAAWE,IAA3G,KAAoH,UADtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAER,IAAf;AAAqB,IAAA,IAAI,EAAEU,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CAFF,eAOE,oBAAC,SAAD,CAAW,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAgB,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAEV,IAAf;AAAqB,IAAA,IAAI,EAAEW,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAhB,CAPF,CAPF,CADF,CADF;AAsBH,CAlGD;;AAmGC,eAAeZ,WAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Machine from './Machine';\nimport useObjState from '../hooks/useObjState';\n\n\nconst MachineList = ({type, stock}) => {\n\n  const[tier1, setTier1] = useObjState({\n    name: \"T1\",\n    speed: 1,\n    cost: {\n      stone: 10,\n      wood: 10,\n    },\n    active: \"disabled\"\n  });\n\n  const[tier2] = useState({\n    name: \"T2\",\n    speed: 10,\n    cost: {\n      stone: 100,\n      wood: 100,\n    }\n  });\n\n  const[tier3] = useState({\n    name: \"T3\",\n    speed: 100,\n    cost: {\n      stone: 1000,\n      wood: 1000,\n    }\n  });\n\n  const stockObj = useContext(GlobalStockContext);\n\n  document.addEventListener('storage', () => {\n    console.log(\"triggered\");\n    const stoneStock = localStorage.getItem('stone-stock');\n    const woodStock = localStorage.getItem('wood-stock');\n\n    if (stoneStock < tier1.cost.stone || woodStock < tier1.cost.wood) {\n      //console.log(\"Stone: \"+stoneStock);\n      //console.log(tier1.cost.stone);\n      setTier1.active('disabled');\n    }\n    else {\n      setTier1.active('');\n    }\n  });\n\n  useEffect(() => {\n    const stoneStock = localStorage.getItem('stone-stock');\n    const woodStock = localStorage.getItem('wood-stock');\n\n    if (stoneStock < tier1.cost.stone || woodStock < tier1.cost.wood) {\n      //console.log(\"Stone: \"+stoneStock);\n      //console.log(tier1.cost.stone);\n      setTier1.active('disabled');\n    }\n    else {\n      setTier1.active('');\n    }\n  }, [stockObj]);\n\n\n  /*let stockInfo = (tier) => {\n    let stoneStock = localStorage.getItem('stone-stock');\n    let woodStock = localStorage.getItem('wood-stock');\n\n    if (stoneStock < tier.cost.stone || woodStock < tier.cost.wood) {\n      //console.log(\"Stone: \"+stoneStock);\n      //console.log(tier.cost.stone);\n      return \"disabled\";\n    }\n    else {\n      return \"\";\n    }\n  };*/\n\n    return (\n      <div className=\"machine-card\">\n        <Card bg=\"secondary\" text=\"dark\">\n          <Card.Header>\n            <Button>\n              {type} Machines\n            </Button>\n          </Card.Header>\n\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item className={tier1.active}><Machine type={type} tier={tier1}/></ListGroup.Item>\n            <ListGroup.Item className={\n              (localStorage.getItem('stone-stock') < tier1.cost.stone || localStorage.getItem('wood-stock') < tier1.cost.wood) && 'disabled'\n            }>\n              <Machine type={type} tier={tier2}/>\n            </ListGroup.Item>\n            <ListGroup.Item><Machine type={type} tier={tier3}/></ListGroup.Item>\n          </ListGroup>\n\n        </Card>\n      </div>\n    )\n}\n export default MachineList;\n"]},"metadata":{},"sourceType":"module"}